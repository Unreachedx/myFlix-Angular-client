<div class="profile-container">
  <h2>User Profile</h2>
  <form *ngIf="user" (ngSubmit)="onSubmit()">
    <div>
      <label for="username">Username:</label>
      <input
        type="text"
        id="username"
        [(ngModel)]="user.username"
        name="username"
        required
        [disabled]="isViewMode"
      />
    </div>

    <div>
      <label for="email">Email:</label>
      <input
        type="email"
        id="email"
        [(ngModel)]="user.email"
        name="email"
        required
        [disabled]="isViewMode"
      />
    </div>

    <div>
      <label for="bio">Bio:</label>
      <textarea
        id="bio"
        [(ngModel)]="user.bio"
        name="bio"
        [disabled]="isViewMode"
      ></textarea>
    </div>

    <div class="button-group">
      <button *ngIf="!isViewMode" type="submit">Save Changes</button>
      <button type="button" (click)="toggleEdit()">
        {{ isViewMode ? 'Edit Profile' : 'Cancel' }}
      </button>
    </div>
  </form>

  <!-- Favorites Section -->
  <div class="favorites-container">
    <h3>Your Favorite Movies</h3>
    <div *ngIf="favorites.length > 0; else noFavorites">
      <ul>
        <li *ngFor="let movie of favorites">
          <h4>{{ movie.title }}</h4>
          <button (click)="removeFavorite(movie._id, movie.title)">Remove from Favorites</button>
        </li>
      </ul>
    </div>
    <ng-template #noFavorites>
      <p>You have no favorite movies yet.</p>
    </ng-template>
  </div>

  <!-- Example of Add to Favorites button -->
  <button (click)="addFavorite('movieId', 'Movie Title')">Add to Favorites</button>
</div>
